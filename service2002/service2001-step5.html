
<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>វិញ្ញាបនបត្របញ្ជាក់បញ្ជីកសិកម្ម - ជំហាន 5</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Hanuman:wght@100;300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="service2001.css">
    <style>
        /* Stepper icon mode */
        .step-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }
        .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #16a34a;
            color: #ffffff;
        }
        .step-item.active .step-number {
            background: #16a34a;
            color: #ffffff;
        }
        .step-item.completed .step-number {
            background: #16a34a;
            color: #ffffff;
        }
        .step-number svg {
            width: 18px;
            height: 18px;
            stroke: currentColor;
        }
        .step-texts {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        .step-next-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            opacity: 0.7;
        }
        .step-next-icon svg {
            width: 16px;
            height: 16px;
            stroke: currentColor;
        }
        .step-item:last-child .step-next-icon {
            opacity: 0;
        }
        /* Payment image */
        .payment-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .payment-image {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="page-header-soft">
        <div class="page-title">
            ២. វិញ្ញាបនបត្របញ្ជាក់ការចុះបញ្ជីឃ្លាំងសន្និធិជីកសិកម្ម
        </div>
        <div class="page-home">
            <a href="/maff-demo-ui-form/" class="home-link">
                <img class="home-icon" src="https://cdn-icons-png.flaticon.com/512/25/25694.png" alt="home">
                ទំព័រដើម
            </a>
        </div>
    </div>
<div class="stepper">

        <!-- Step 1: Applicant info -->
        <a href="service2001-step1.html" class="step-item completed">
            <div class="step-number">
                <!-- user icon -->
                <svg viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="8" r="3.5" stroke-width="1.8"/>
                    <path d="M5 19c1.5-3 3.9-4.5 7-4.5s5.5 1.5 7 4.5" stroke-width="1.8" stroke-linecap="round"/>
                </svg>
            </div>
            <div class="step-texts">
                <span class="step-label-main">ព័ត៌មានអ្នកឈរឈ្មោះ</span>
            </div>
            <div class="step-next-icon">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M9 6l6 6-6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </a>

        <!-- Step 2: Request info -->
        <a href="service2001-step2.html" class="step-item completed">
            <div class="step-number">
                <!-- document icon -->
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M7 3h7l5 5v13H7z" stroke-width="1.8" stroke-linejoin="round"/>
                    <path d="M14 3v5h5" stroke-width="1.8" stroke-linejoin="round"/>
                    <path d="M9 13h6M9 16h4" stroke-width="1.6" stroke-linecap="round"/>
                </svg>
            </div>
            <div class="step-texts">
                <span class="step-label-main">ព័ត៌មានពាក្យស្នើសុំ</span>
            </div>
            <div class="step-next-icon">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M9 6l6 6-6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </a>

        <!-- Step 3: Attachments -->
        <a href="service2001-step3.html" class="step-item completed">
            <div class="step-number">
                <!-- paperclip icon -->
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M8.5 8.75l5.25-5.25a3.75 3.75 0 1 1 5.3 5.3l-7.07 7.07a4.25 4.25 0 1 1-6.01-6.01L12 4" 
                          stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="step-texts">
                <span class="step-label-main">ឯកសារភ្ជាប់</span>
            </div>
            <div class="step-next-icon">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M9 6l6 6-6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </a>

        <!-- Step 4: Review -->
        <a href="service2001-step4.html" class="step-item completed">
            <div class="step-number">
                <!-- eye (review) icon -->
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M2 12s3.5-7 10-7 10 7 10 7-3.5 7-10 7S2 12 2 12Z" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    <circle cx="12" cy="12" r="3" stroke-width="1.8"/>
                </svg>
            </div>
            <div class="step-texts">
                <span class="step-label-main">ពិនិត្យឡើងវិញ</span>
            </div>
            <div class="step-next-icon">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M9 6l6 6-6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </a>

        <!-- Step 5: Payment -->
        <a href="service2001-step5.html" class="step-item active">
            <div class="step-number">
                <!-- credit card icon -->
                <svg viewBox="0 0 24 24" fill="none">
                    <rect x="3" y="5" width="18" height="14" rx="2" stroke-width="1.8"/>
                    <path d="M3 9h18" stroke-width="1.8"/>
                    <path d="M7 14h4" stroke-width="1.8" stroke-linecap="round"/>
                </svg>
            </div>
            <div class="step-texts">
                <span class="step-label-main">បង់ប្រាក់</span>
            </div>
            <div class="step-next-icon">
                <svg viewBox="0 0 24 24" fill="none">
                    <path d="M9 6l6 6-6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </a>
    </div>
<div class="section">
    <div class="section-header" onclick="toggleSection(this)">
        ៥. បង់ប្រាក់
    </div>
    <div class="section-content">
            <div class="form-container">
                <div class="payment-wrapper">
                    <!-- Just show payment image -->
                    <img src="payment.png" alt="ទំព័របង់ប្រាក់" class="payment-image">
                </div>
            </div>
        </div>
</div>

<div class="step-nav">
    <button class="btn btn-outline-green">
        <span class="btn-icon">
            <svg viewBox="0 0 24 24">
                <path d="M5 3h14v18H5z" stroke="currentColor" stroke-width="1.6" fill="none"/>
                <path d="M5 9h14" stroke="currentColor" stroke-width="1.6"/>
                <path d="M9 3v6" stroke="currentColor" stroke-width="1.6"/>
                <rect x="9" y="13" width="6" height="5" stroke="currentColor" stroke-width="1.6" fill="none"/>
            </svg>
        </span>
        រក្សាទុក & ចាកចេញ
    </button>

    <div class="step-right-group">
        <button class="btn btn-outline-green" onclick="window.location.href='service2001-step4.html'">
            <span class="btn-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2"/>
                </svg>
            </span>
            ត្រឡប់ក្រោយ
        </button>

        <button class="btn btn-primary" onclick="alert('Submitting form...');">
            ដាក់ស្នើ
            <span class="btn-icon-right">
                <svg viewBox="0 0 24 24">
                    <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2"/>
                </svg>
            </span>
        </button>
    </div>
</div>

    <script>
        function toggleSection(header) {
            const content = header.nextElementSibling;
            header.classList.toggle('collapsed');
            content.classList.toggle('collapsed');
        }

        function toggleFormType() {
            const companyForm = document.getElementById('companyForm');
            const individualForm = document.getElementById('individualForm');
            const isCompany = document.getElementById('company') && document.getElementById('company').checked;
            const selfWrapper = document.getElementById('selfApplicantWrapper');
            const selfCheckbox = document.getElementById('selfApplicant');

            if (!companyForm || !individualForm) return;

            if (isCompany) {
                companyForm.classList.remove('hidden');
                individualForm.classList.add('hidden');
                if (selfWrapper) selfWrapper.style.display = 'none';
                if (selfCheckbox) selfCheckbox.checked = false;
            } else {
                companyForm.classList.add('hidden');
                individualForm.classList.remove('hidden');
                if (selfWrapper) selfWrapper.style.display = 'flex';
            }

            handleSelfApplicantToggle();
        }

        function toggleCamdxCompany() {
            const camdxCompanyField = document.getElementById('camdxCompanyField');
            const isCamdxYes = document.getElementById('camdx_yes') && document.getElementById('camdx_yes').checked;

            if (!camdxCompanyField) return;

            if (isCamdxYes) {
                camdxCompanyField.classList.remove('hidden');
            } else {
                camdxCompanyField.classList.add('hidden');
            }
        }

        function toggleRepresentativeType() {
            const repIndividualForm = document.getElementById('repIndividualForm');
            const repCompanyForm = document.getElementById('repCompanyForm');
            const isIndividual = document.getElementById('rep_individual') && document.getElementById('rep_individual').checked;

            if (!repIndividualForm || !repCompanyForm) return;

            if (isIndividual) {
                repIndividualForm.classList.remove('hidden');
                repCompanyForm.classList.add('hidden');
            } else {
                repIndividualForm.classList.add('hidden');
                repCompanyForm.classList.remove('hidden');
            }
        }

        function previewPhoto(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const preview = document.querySelector('.file-upload-preview');
                    if (preview) {
                        preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
                    }
                };
                reader.readAsDataURL(file);
            }
        }

        function handleSelfApplicantToggle() {
            const sectionRep = document.getElementById('sectionRepresentative');
            const isIndividual = document.getElementById('individual') && document.getElementById('individual').checked;
            const selfCheckbox = document.getElementById('selfApplicant');

            if (!sectionRep) return;

            if (isIndividual && selfCheckbox && selfCheckbox.checked) {
                sectionRep.classList.add('hidden');
            } else {
                sectionRep.classList.remove('hidden');
            }
        }

        window.addEventListener('DOMContentLoaded', () => {
            toggleFormType();
            handleSelfApplicantToggle();
            toggleRepresentativeType();
        });
    </script>
</body>
</html>
